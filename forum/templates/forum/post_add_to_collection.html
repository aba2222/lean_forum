{% extends 'base.html' %}

{% block title %}添加到合集{% endblock %}

{% block content %}
<h1>将「{{ post.title }}」添加到合集</h1>

{% if collections %}
<form method="post" class="mt-3">
    {% csrf_token %}
    <div class="list-group mb-3">
    {% for collection in collections %}
        <label class="list-group-item d-flex align-items-center">
            <input type="radio" name="collection_id" value="{{ collection.id }}" class="form-check-input me-2" required>
            {{ collection.name }}
            <span class="badge bg-secondary ms-auto">{{ collection.collection_posts.count }} 篇</span>
        </label>
    {% endfor %}
    </div>
    <button type="submit" class="btn btn-primary">添加</button>
    <a href="{% url 'post_detail' post.id %}" class="btn btn-outline-secondary">取消</a>
</form>
{% else %}
<p class="text-muted mt-3">你还没有创建任何合集。</p>
<a href="{% url 'collection_create' %}" class="btn btn-primary">创建合集</a>
<a href="{% url 'post_detail' post.id %}" class="btn btn-outline-secondary">返回</a>
{% endif %}
{% endblock %}
