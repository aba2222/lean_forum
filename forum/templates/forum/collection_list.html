{% extends 'base.html' %}

{% block title %}合集{% endblock %}

{% block content %}
<h1>合集</h1>
{% if user.is_authenticated %}
<a href="{% url 'collection_create' %}" class="btn btn-primary btn-sm mb-3">创建合集</a>
{% endif %}

<ul class="list-group">
{% for collection in collections %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <div>
      <a href="{% url 'collection_detail' collection.id %}">{{ collection.name }}</a>
      <small class="text-muted ms-2">by {{ collection.owner.username }}</small>
      {% if collection.description %}
      <br><small class="text-muted">{{ collection.description }}</small>
      {% endif %}
    </div>
    <span class="badge bg-secondary">{{ collection.collection_posts.count }} 篇</span>
  </li>
{% empty %}
  <li class="list-group-item">暂无合集</li>
{% endfor %}
</ul>
{% endblock %}
